
<h2>New trip</h2>
<%= simple_form_for @trip, data: { controller: 'flatpickr'} do |f| %>
  <div class="row">
    <%# name and destination %>
    <div class="col-12">
      <div class="row">
        <div class="col-md-6">
          <%= f.input :name, placeholder: "Trip name", label: false %>
        </div>
        <div class="col-md-6">
          <%= f.input :destination, :collection => Trip::DESTINATION, prompt: 'Destination', placeholder: "Destination", label: false %>
        </div>
      </div>
    </div>
    <div class="col-12">
    <%# activity type and features %>
      <div class="row">
        <div class="col-md-6">
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Activity types
            </button>
            <ul class="dropdown-menu">
              <li>
                <%= f.input :activity_type, as: :check_boxes, :collection => Trip::ACTIVITIES,  prompt: 'Activity', multiple: true%>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-6">
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Features
            </button>
            <ul class="dropdown-menu">
              <li>
                <%= f.input :features, as: :check_boxes, :collection => Trip::FEATURES_LIST, prompt: 'Features', multiple: true %>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <%= f.input :description, placeholder: "Trip description", label: false %>
    </div>
      <h3>Departure details</h3>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :departure_point, :collection => Trip::DEPARTURE, prompt: 'Departure Point', placeholder: "Departure Point", label: false %>
      </div>
      <div class="col-md-6">
        <%= f.input :departure_date_time, label:'Departure Date*', as: :string, input_html: { data: {flatpickr_target: "departureDate"} }, placeholder: "Departure Date Time", label: false %>
      </div>
    </div>

    <h3>Price & spots</h3>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :seats, placeholder: "Seats", label: false %>
      </div>
      <div class="col-md-6">
        <%= f.input :price, label: 'Price per customer', prompt: '$', placeholder: "Price per customer", label: false %>
      </div>

    </div>

    <h3>photos</h3>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :photos, as: :file, input_html: { multiple: true }, placeholder: "Insert photos", label: false %>
      </div>
      <div class="col-md-6">
        <%= f.input :thumbnail, label: "Select a thumbnail for your trip", as: :file, input_html: { multiple: false }, placeholder: "Insert thumbnail", label: false %>
      </div>
    </div>
      <%= f.input :latitude, :as => :hidden %>  <%# Hide this before production with :as => :hidden %>
      <%= f.input :longitude, :as => :hidden %> <%# Hide this before production with :as => :hidden %>
  </div>
  <%= f.submit 'Add my trip', class:'btn btn-success' %>
<% end %>
